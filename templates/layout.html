<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>dauntlessbuilds.com</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <style>
  body {
    padding-top: 70px;
  }
</style>
</head>

<body>

  {% include 'includes/_navbar.html' %} {% block body %}{% endblock %}  {% include 'includes/_footer.html' %}

  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
  <script type="text/javascript" src="static/hashids.min.js"></script>
  <script>
  var hashids = new Hashids();

  $(document).ready(function(){
    showSelectedWeapons('#Hammers');

    updateUrl();
    console.log("updated url");
  });
  function hideAllWeapons(){
    $('#Hammers').css('display', 'none');
    $('#Axes').css('display', 'none');
    $('#Swords').css('display', 'none');
    $('#ChainBlades').css('display', 'none');
    $('#WarPikes').css('display', 'none');
  }

  function showSelectedWeapons(type){
    hideAllWeapons();
    $(type).css('display', 'block')
  }

  function updateUrl(){
    let selectedWeaponType = $( "#typeSelection option:selected" ).val();
    console.log(selectedWeaponType);

    let selectedWeapon;
    if($( "#typeSelection option:selected" ).val() == '1'){
      selectedWeapon = $( "#Hammers option:selected" ).val();
    }
    else if($( "#typeSelection option:selected" ).val() == '2'){
      selectedWeapon = $( "#Axes option:selected" ).val();
    }
    else if($( "#typeSelection option:selected" ).val() == '3'){
      selectedWeapon = $( "#Swords option:selected" ).val();
    }
    else if($( "#typeSelection option:selected" ).val() == '4'){
      selectedWeapon = $( "#ChainBlades option:selected" ).val();
    }
    else{
      selectedWeapon = $( "#WarPikes option:selected" ).val();
    }
console.log(selectedWeapon);
    let selectedLantern = $( "#lanternSelection option:selected" ).val();
    console.log(selectedLantern);
    let selectedHelmet = $( "#helmetSelection option:selected" ).val();
    console.log(selectedHelmet);
    let selectedChestplate = $( "#chestplateSelection option:selected" ).val();
    console.log(selectedChestplate);
    let selectedGauntlets = $( "#gauntletsSelection option:selected" ).val();
    console.log(selectedGauntlets);
    let selectedGreaves = $( "#greavesSelection option:selected" ).val();
    console.log(selectedGreaves);

    console.log(hashids.encode(selectedWeaponType, selectedWeapon, selectedLantern, selectedHelmet, selectedChestplate, selectedGauntlets, selectedGreaves));
  }

  $( "#typeSelection" ).change(function() {
    if($( "#typeSelection option:selected" ).val() == '1'){
      showSelectedWeapons('#Hammers');
    }
    else if($( "#typeSelection option:selected" ).val() == '2'){
      showSelectedWeapons('#Axes');
    }
    else if($( "#typeSelection option:selected" ).val() == '3'){
      showSelectedWeapons('#Swords');
    }
    else if($( "#typeSelection option:selected" ).val() == '4'){
      showSelectedWeapons('#ChainBlades');
    }
    else {
      showSelectedWeapons('#WarPikes');
    }
  }
);


</script>

</body>

</html>
